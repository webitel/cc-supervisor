{
  "version": 3,
  "sources": ["../../node_modules/@webitel/ui-sdk/src/modules/CSVExport/mixins/exportCSVMixin.js"],
  "sourcesContent": ["import CSVExport from '../CSVExport.js';\n\nexport default {\n  data: () => ({\n    CSVExport: null,\n  }),\n\n  computed: {\n    isCSVLoading() {\n      return !!this.CSVDownloadProgress;\n    },\n\n    CSVDownloadProgress() {\n      return this.CSVExport ? this.CSVExport.downloadProgress.count : 0;\n    },\n    selectedIds() {\n      return this.dataList\n        .filter((item) => item._isSelected)\n        .map((item) => item.id);\n    },\n    isAnySelected() {\n      return !!this.selectedIds.length;\n    },\n  },\n\n  methods: {\n    initCSVExport(fetchMethod, options) {\n      this.CSVExport = new CSVExport(fetchMethod, options);\n    },\n\n    async exportCSV(exportParams) {\n      const routeQuery = this.$route?.query;\n      const params = {\n        ...(exportParams || routeQuery),\n        size: 5000,\n      };\n      if (this.isAnySelected) params.id = this.selectedIds;\n\n      try {\n        await this.CSVExport.export(params);\n      } catch (err) {\n        throw err;\n      }\n    },\n  },\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA,IAAAA,eAAA;AAAA,IAAAA,eAAA;AAEA,IAAO,yBAAQ;AAAA,EACb,MAAM,OAAO;AAAA,IACX,WAAW;AAAA,EACb;AAAA,EAEA,UAAU;AAAA,IACR,eAAe;AACb,aAAO,CAAC,CAAC,KAAK;AAAA,IAChB;AAAA,IAEA,sBAAsB;AACpB,aAAO,KAAK,YAAY,KAAK,UAAU,iBAAiB,QAAQ;AAAA,IAClE;AAAA,IACA,cAAc;AACZ,aAAO,KAAK,SACT,OAAO,CAAC,SAAS,KAAK,WAAW,EACjC,IAAI,CAAC,SAAS,KAAK,EAAE;AAAA,IAC1B;AAAA,IACA,gBAAgB;AACd,aAAO,CAAC,CAAC,KAAK,YAAY;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AAAA,IACP,cAAc,aAAa,SAAS;AAClC,WAAK,YAAY,IAAI,UAAU,aAAa,OAAO;AAAA,IACrD;AAAA,IAEA,MAAM,UAAU,cAAc;AA9BlC;AA+BM,YAAM,cAAa,UAAK,WAAL,mBAAa;AAChC,YAAM,SAAS;AAAA,QACb,GAAI,gBAAgB;AAAA,QACpB,MAAM;AAAA,MACR;AACA,UAAI,KAAK,cAAe,QAAO,KAAK,KAAK;AAEzC,UAAI;AACF,cAAM,KAAK,UAAU,OAAO,MAAM;AAAA,MACpC,SAAS,KAAK;AACZ,cAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AACF;",
  "names": ["import_dist"]
}
